<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Olfactory Data Visualizer</title>
  <!-- <meta name="description" content="Interactive dashboard scaffolding for rabies tracing, double injections, and regional AON datasets." /> -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />

  <!-- AOS Animate on Scroll -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />

  <!-- D3 & Vega (for future charts) -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="nav">
    <div class="nav__inner">
      <a href="index.html" class="brand">Olfactory DV</a>
      <div class="nav__links">
        <a href="index.html" class="is-active">Datasets</a>
        <a href="upload.html">Upload</a>
        <a href="napari.html">Napari Viewer</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header id="top" class="hero">
    <div class="container grid">
      <div class="col" data-aos="fade-up">
        <p class="kicker">Tisya Sharma · Capstone</p>
        <h1>Olfactory Data Visualizer</h1>
        <p class="lede">
          Dashboard for fluorescence‑based circuit tracing. <!-- regional AON expression temporarily omitted -->
        </p>
        <div class="legend">
          <span class="dot" style="--c:var(--accent1)"></span> Afferent/Tracing
          <span class="dot" style="--c:var(--accent2)"></span> Injection/Expression
          <span class="dot" style="--c:var(--accent3)"></span> Regional Summaries
        </div>
      </div>
    </div>
  </header>

  <!-- About -->
  <section id="about" class="section">
    <div class="container narrow" data-aos="fade-up">
      <p class="kicker">About</p>
      <h2>AON Connectome Atlas</h2>
      <p>
        This dashboard is a tool to characterize the structural and molecular architecture of interhemispheric connections within the Anterior Olfactory Nucleus (AON).
        By employing a combinatorial viral strategy (Dual-Viral Tracing), we have mapped the topographical organization and regional heterogeneity of commissural projections between AON subregions.
        To define the connectivity logic, Monosynaptic Rabies Tracing was utilized to quantify synaptic inputs onto excitatory and inhibitory subpopulations.
        Finally, we resolved the cellular identity of these long-range projecting neurons through Transcriptomic Profiling (snRNA-seq), identifying distinct molecular clusters that underlie bilateral olfactory integration.
      </p>
      <div class="module-grid">
        <div class="module-card">
          <p class="kicker">Module 1</p>
          <h3>Interhemispheric Projection Topography</h3>
          <p class="muted">Map axonal density and regional heterogeneity of commissural projections across AON subregions.</p>
        </div>
        <div class="module-card">
          <p class="kicker">Module 2</p>
          <h3>Monosynaptic Input Mapping</h3>
          <p class="muted">Rabies tracing to quantify synaptic inputs onto excitatory and inhibitory subpopulations.</p>
        </div>
        <div class="module-card">
          <p class="kicker">Module 3</p>
          <h3>Transcriptomic Profiling</h3>
          <p class="muted">snRNA-seq of projecting neurons to define molecular clusters driving bilateral integration.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Datasets Tabs -->
  <section id="datasets" class="section section--alt">
    <div class="container">
      <div class="section__head" data-aos="fade-up">
        <div>
          <p class="kicker">Datasets</p>
          <h3>Explore by Dataset</h3>
          <p class="muted">Switch tabs to see dedicated filters, notes, and chart placeholders for each dataset.</p>
        </div>
      </div>

      <!-- Tabs -->
      <div class="tabs" role="tablist" aria-label="Datasets">
        <button class="tab is-active" role="tab" aria-selected="true" aria-controls="rabiesTab" id="rabiesTabBtn">Rabies Injection</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="doubleTab" id="doubleTabBtn">Double Injection</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="scrnaTab" id="scrnaTabBtn">scRNA-seq</button>
      </div>

      <!-- Rabies Tab -->
      <div id="rabiesTab" class="tabpanel is-active" role="tabpanel" aria-labelledby="rabiesTabBtn" data-aos="fade-up">
        <div class="rabies-layout card">
          <aside class="rabies-sidebar">
            <div class="sidebar-block region-dropdown">
              <label class="sidebar-label">Search & Select Regions
                <input id="rabiesRegionSearch" type="search" placeholder="Type to search/add..." autocomplete="off" />
              </label>
              <div id="rabiesRegionList" class="region-list"></div>
              <div class="sidebar-actions">
                <div class="sidebar-actions__buttons">
                  <button id="rabiesResetBtn" class="btn btn--mini btn--ghost" type="button">Reset defaults</button>
                  <button id="rabiesClearBtn" class="btn btn--mini btn--ghost" type="button">Clear</button>
                </div>
              </div>
            </div>
            <div class="sidebar-block">
              <div class="sidebar-label">View mode</div>
              <label class="sidebar-radio"><input type="radio" name="rabiesGroupBy" value="genotype" checked /> Region Signal Averaged </label>
              <label class="sidebar-radio"><input type="radio" name="rabiesGroupBy" value="subject" /> Region Signal Per Mouse </label>
            </div>
          </aside>
          <div class="rabies-main">
            <div class="abstract-plain">
              <div class="abstract-plain__head">
                <div class="abstract-plain__meta">
                  <p class="kicker">Monosynaptic Input Mapping</p>
                  <div class="abstract-plain__title-row">
                    <h2 class="abstract-plain__title">Monosynaptic Input Mapping</h2>
                    <button id="rabiesAbstractToggle" class="abstract-plain__toggle" type="button" aria-expanded="false" aria-controls="rabiesAbstractBody">[+] View Experimental Rationale</button>
                  </div>
                </div>
              </div>
              <div id="rabiesAbstractBody" class="abstract-plain__body" hidden>
                <div class="abstract-plain__text">
                  <p>
                    To determine the connectivity logic of the AON, we utilized Monosynaptic Rabies Tracing. This approach allows for the retrograde labeling of direct presynaptic inputs onto defined starter populations. By targeting vGLUT1-Cre (excitatory) and vGAT-Cre (inhibitory) neurons, we quantified the convergence of inputs arising from the contralateral hemisphere, olfactory bulb, and top-down cortical structures.
                  </p>
                </div>
                <div class="abstract-plain__meta">
                  Virus: EnvA-dG-Rabies | Starters: vGLUT1-Cre, vGAT-Cre | N=10 Mice
                </div>
              </div>
            </div>
            <div class="figure-panel">
              <div class="panel-a">
                <div class="panel-label">Ipsilateral</div>
                <div id="rabiesDotPlotIpsi" class="dotplot-container"></div>
              </div>
              <div class="panel-b">
                <div class="panel-label">Contralateral</div>
                <div id="rabiesDotPlotContra" class="dotplot-container"></div>
              </div>
            </div>
            <div id="rabiesTooltip" class="tooltip" hidden></div>
            <div id="rabiesStatus" class="rabies-status muted small">Loading rabies data…</div>
          </div>
        </div>
      </div>

      <!-- Double Injection Tab -->
      <div id="doubleTab" class="tabpanel" role="tabpanel" aria-labelledby="doubleTabBtn" hidden data-aos="fade-up">
        <div class="viz-holder">
          <div class="viz-holder__title">Dataset visualization</div>
        </div>
      </div>

      <!-- Regional AON Tab -->
      <div id="scrnaTab" class="tabpanel" role="tabpanel" aria-labelledby="scrnaTabBtn" hidden data-aos="fade-up">
        <div class="viz-holder">
          <div class="viz-holder__title">Dataset visualization</div>
        </div>
      </div>
    </div>
  </section>


  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="main.js"></script>
</body>
</html>
